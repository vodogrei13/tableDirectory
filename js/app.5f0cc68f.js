(function(){"use strict";var e={4639:function(e,n,a){var t=a(5130),o=a(6768),r=a(4232);const l={class:"app"},i={class:"searchAndAdd"},u={key:0},c={key:0},d=["onClick"],s={class:"pagination"},p=["disabled"],v=["disabled"],k={key:0,class:"modal"},f={class:"modal-content"},h={class:"modal-actions"},g=["disabled"];function b(e,n,a,b,L,O){return(0,o.uX)(),(0,o.CE)("div",l,[n[16]||(n[16]=(0,o.Lk)("header",null,[(0,o.Lk)("h1",null,"Справочник организаций")],-1)),(0,o.Lk)("div",i,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>b.searchQuery=e),placeholder:"Найти по ФИО",class:"search-input"},null,512),[[t.Jo,b.searchQuery]]),(0,o.Lk)("button",{onClick:n[1]||(n[1]=(...e)=>b.openModal&&b.openModal(...e))},"Добавить")]),(0,o.Lk)("table",null,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{onClick:n[2]||(n[2]=e=>b.sort("name"))},[n[11]||(n[11]=(0,o.eW)(" Название организации")),"name"===b.sortKey?((0,o.uX)(),(0,o.CE)("span",u,(0,r.v_)("asc"===b.sortOrder?"⬆️":"⬇️"),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("th",{onClick:n[3]||(n[3]=e=>b.sort("director"))},[n[12]||(n[12]=(0,o.eW)(" ФИО директора")),"director"===b.sortKey?((0,o.uX)(),(0,o.CE)("span",c,(0,r.v_)("asc"===b.sortOrder?"⬆️":"⬇️"),1)):(0,o.Q3)("",!0)]),n[13]||(n[13]=(0,o.Lk)("th",null,"Номер телефона",-1)),n[14]||(n[14]=(0,o.Lk)("th",null,null,-1))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(b.paginatedOrganizations,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,r.v_)(e.name),1),(0,o.Lk)("td",null,(0,r.v_)(e.director),1),(0,o.Lk)("td",null,(0,r.v_)(e.phone),1),(0,o.Lk)("td",null,[(0,o.Lk)("button",{onClick:n=>b.deleteOrganization(e.id)},"❌",8,d)])])))),128))])]),(0,o.Lk)("div",s,[(0,o.Lk)("button",{disabled:1===b.currentPage,onClick:n[4]||(n[4]=e=>b.changePage(b.currentPage-1))}," < ",8,p),(0,o.Lk)("span",null,"Страница "+(0,r.v_)(b.currentPage)+" из "+(0,r.v_)(b.totalPages),1),(0,o.Lk)("button",{disabled:b.currentPage===b.totalPages,onClick:n[5]||(n[5]=e=>b.changePage(b.currentPage+1))}," > ",8,v)]),b.isModalOpen?((0,o.uX)(),(0,o.CE)("div",k,[(0,o.Lk)("div",f,[n[15]||(n[15]=(0,o.Lk)("h2",null,"Добавить организацию",-1)),(0,o.Lk)("form",{onSubmit:n[10]||(n[10]=(0,t.D$)(((...e)=>b.addOrganization&&b.addOrganization(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{class:"input_modal",type:"text","onUpdate:modelValue":n[6]||(n[6]=e=>b.newOrganization.name=e),required:"",placeholder:"Название"},null,512),[[t.Jo,b.newOrganization.name]]),(0,o.bo)((0,o.Lk)("input",{class:"input_modal",type:"text","onUpdate:modelValue":n[7]||(n[7]=e=>b.newOrganization.phone=e),required:"",placeholder:"Номер телефона"},null,512),[[t.Jo,b.newOrganization.phone]]),(0,o.bo)((0,o.Lk)("input",{class:"input_modal",type:"text","onUpdate:modelValue":n[8]||(n[8]=e=>b.newOrganization.director=e),required:"",placeholder:"ФИО директора"},null,512),[[t.Jo,b.newOrganization.director]]),(0,o.Lk)("div",h,[(0,o.Lk)("button",{type:"button",onClick:n[9]||(n[9]=(...e)=>b.closeModal&&b.closeModal(...e))},"Отмена"),(0,o.Lk)("button",{type:"submit",disabled:!b.isFormValid},"ОК",8,g)])],32)])])):(0,o.Q3)("",!0)])}a(4114),a(8992),a(4520);var L=a(144),O={setup(){const e=(0,L.KR)([{id:1,name:"ООО Пятерочка",director:"Иванов И.В",phone:"89996661122"},{id:2,name:"ООО Магнит",director:"Петров П.А",phone:"89998882211"}]),n=(0,L.KR)(""),a=(0,L.KR)(null),t=(0,L.KR)(null),r=(0,L.KR)(1),l=(0,L.KR)(5),i=(0,L.KR)(!1),u=(0,L.KR)({name:"",director:"",phone:""}),c=(0,o.EW)((()=>e.value.filter((e=>e.director.toLowerCase().includes(n.value.toLowerCase()))))),d=(0,o.EW)((()=>a.value?[...c.value].sort(((e,n)=>{const o="asc"===t.value?1:-1;return e[a.value].localeCompare(n[a.value])*o})):c.value)),s=(0,o.EW)((()=>{const e=(r.value-1)*l.value;return d.value.slice(e,e+l.value)})),p=(0,o.EW)((()=>Math.ceil(c.value.length/l.value))),v=e=>{a.value===e?t.value="asc"===t.value?"desc":"asc":(a.value=e,t.value="asc")},k=e=>{e>=1&&e<=p.value&&(r.value=e)},f=n=>{e.value=e.value.filter((e=>e.id!==n))},h=()=>{i.value=!0},g=()=>{i.value=!1,O()},b=()=>{e.value.push({id:Date.now(),...u.value}),g()},O=()=>{u.value={name:"",director:"",phone:""}},m=(0,o.EW)((()=>u.value.name&&u.value.director&&u.value.phone));return{organizations:e,searchQuery:n,sortKey:a,sortOrder:t,currentPage:r,pageSize:l,isModalOpen:i,newOrganization:u,filteredOrganizations:c,sortedOrganizations:d,paginatedOrganizations:s,totalPages:p,sort:v,changePage:k,deleteOrganization:f,openModal:h,closeModal:g,addOrganization:b,isFormValid:m}}},m=a(1241);const y=(0,m.A)(O,[["render",b],["__scopeId","data-v-80030e36"]]);var C=y;(0,t.Ef)(C).mount("#app")}},n={};function a(t){var o=n[t];if(void 0!==o)return o.exports;var r=n[t]={exports:{}};return e[t].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(n,t,o,r){if(!t){var l=1/0;for(d=0;d<e.length;d++){t=e[d][0],o=e[d][1],r=e[d][2];for(var i=!0,u=0;u<t.length;u++)(!1&r||l>=r)&&Object.keys(a.O).every((function(e){return a.O[e](t[u])}))?t.splice(u--,1):(i=!1,r<l&&(l=r));if(i){e.splice(d--,1);var c=o();void 0!==c&&(n=c)}}return n}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[t,o,r]}}(),function(){a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,{a:n}),n}}(),function(){a.d=function(e,n){for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};a.O.j=function(n){return 0===e[n]};var n=function(n,t){var o,r,l=t[0],i=t[1],u=t[2],c=0;if(l.some((function(n){return 0!==e[n]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(u)var d=u(a)}for(n&&n(t);c<l.length;c++)r=l[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},t=self["webpackChunkstack"]=self["webpackChunkstack"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=a.O(void 0,[504],(function(){return a(4639)}));t=a.O(t)})();
//# sourceMappingURL=app.5f0cc68f.js.map